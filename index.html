<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sturdy Ask Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-slate-100 text-slate-900">
    <div class="min-h-screen flex flex-col items-center px-4 py-10">
      <!-- üîµ INTRO HERO CARD -->
      <section class="w-full max-w-5xl mx-auto mt-4 mb-14 px-0">
        <div
          class="relative overflow-hidden rounded-3xl border border-slate-800 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 shadow-[0_18px_45px_rgba(15,23,42,0.55)] px-6 py-7 md:px-10 md:py-10 flex flex-col md:flex-row md:items-center md:justify-between gap-8"
        >
          <!-- Left: headline + body -->
          <div class="space-y-4 md:max-w-xl text-left">
            <h2 class="text-3xl md:text-4xl font-semibold tracking-tight text-slate-50">
              Experience Sturdy in Action
            </h2>
            <p class="text-sm md:text-base text-slate-300 leading-relaxed">
              Sturdy turns what your accounts actually say into ready-to-run
              <span class="font-medium text-sky-300">account intelligence</span>
              ‚Äî delivered in seconds, without chasing the story across ten tools or teammates.
            </p>
            <button
              type="button"
              class="inline-flex items-center gap-2 rounded-full bg-[#026eff] px-5 py-2.5 text-sm font-semibold text-white shadow-[0_10px_30px_rgba(2,110,255,0.6)] hover:shadow-[0_18px_40px_rgba(2,110,255,0.8)] hover:translate-y-[-1px] active:translate-y-0 transition-transform"
            >
              Unlock Your Accounts
              <span aria-hidden="true" class="text-base">‚Üó</span>
            </button>
          </div>

          <!-- Right: magical "try it" bubble -->
          <div class="relative md:w-80 flex-shrink-0">
            <div
              class="rounded-3xl border border-slate-700/80 bg-gradient-to-br from-slate-900/80 via-slate-900/60 to-slate-900/20 px-5 py-4 text-sm text-slate-100 shadow-[0_18px_50px_rgba(15,23,42,0.9)] backdrop-blur-md"
            >
              <p class="text-base font-semibold text-slate-100 mb-2">Try it below</p>
              <p class="text-sm md:text-base text-slate-50 leading-relaxed">
                Click a category, pick a prompt, and just ask.
              </p>
            </div>
            <div
              class="hidden md:flex absolute -left-6 -top-6 h-10 w-10 items-center justify-center rounded-full border border-slate-700 bg-slate-900/70 shadow-[0_0_25px_rgba(2,110,255,0.7)]"
            >
              <span class="text-slate-100 text-lg">‚ú®</span>
            </div>
          </div>
        </div>
      </section>
      <!-- üîµ /INTRO HERO CARD -->

      <main class="w-full max-w-5xl space-y-8 mt-4">
        <!-- Ask bar + app card -->
        <section class="space-y-6">
          <section
            class="bg-white/95 rounded-[28px] border border-slate-200 shadow-[0_18px_60px_rgba(15,23,42,0.16)] p-5 md:p-6 space-y-5 backdrop-blur-sm"
          >
            <!-- Ask bar -->
            <div class="max-w-full mx-auto">
              <div
                class="flex items-center gap-4 rounded-full border border-[#026eff]/25 bg-white px-6 py-3 shadow-sm"
              >
                <input
                  id="askInput"
                  type="text"
                  class="flex-1 bg-transparent text-sm md:text-base text-slate-900 placeholder:text-slate-400 focus:outline-none"
                  placeholder="Ask anything"
                />
                <button
                  id="askButton"
                  class="inline-flex items-center justify-center rounded-full bg-[#026eff] px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-[#005ce0] transition"
                >
                  Ask
                </button>
              </div>
            </div>

            <!-- Categories row -->
            <div id="categoryRow" class="flex flex-wrap gap-2 md:gap-3 mt-4"></div>

            <!-- Prompt list -->
            <div id="promptList" class="mt-2 divide-y divide-slate-200"></div>

            <!-- Result console -->
            <div id="resultConsole" class="mt-4 space-y-4"></div>
          </section>
        </section>

        <!-- Footer -->
        <footer
          class="pt-4 border-t border-slate-200 mt-4 text-center space-y-1 text-[11px] text-slate-500"
        >
          <p class="font-medium text-slate-600">
            Powered by <span class="font-semibold">Sturdy</span>
          </p>
          <p id="footerLine1"></p>
        </footer>
      </main>
    </div>

    <script>
      // ---------- CONFIG ----------
      const uiCopy = {
        askPlaceholder: "Ask anything",
        footer: {
          line1: "Sturdy doesn't use your data to train models.",
        },
      };

      const promptCategories = [
        { id: "account", label: "Account Management", count: 4 },
        { id: "growth", label: "Growth Drivers", count: 3 },
        { id: "product", label: "Product Feedback", count: 4 },
        { id: "cx", label: "Customer Experience", count: 3 },
        { id: "support", label: "Customer Service", count: 4 },
      ];

      const prompts = [
        // Account Management
        {
          id: "p1",
          categories: ["account"],
          question:
            "Create a detailed account review for Secbase. Include key goals, current sentiment, recent risks or escalations, engagement patterns, and notable wins. End with a summary of recommended next actions for the Account Owner.",
          why:
            "Compiles structured, context-rich insights into an account snapshot that replaces hours of manual gathering.",
        },
        {
          id: "p2",
          categories: ["account"],
          question:
            "Build a QBR summary for Secbase. Highlight key metrics (engagement, satisfaction, and renewal signals), summarize customer goals and outcomes achieved, and list open action items or blockers. Include a short narrative describing the customer's sentiment trend over the last quarter.",
          why: "Provides a ready-to-use framework for customer-facing meetings.",
        },
        {
          id: "p3",
          categories: ["account"],
          question:
            "Generate an Expansion Review for Secbase. Summarize expansion, renewal, or reactivation signals, the ‚Äúwhy now,‚Äù and the top next moves. Include a few direct conversation excerpts that support each opportunity.",
          why:
            "Creates a fast, evidence-backed snapshot of where revenue momentum exists and what to do next.",
        },
        {
          id: "p4",
          categories: ["account"],
          question:
            "Build an Action Plan for Secbase. State the current situation, top objectives for the next 30‚Äì60 days, key risks, and a step-by-step plan of actions to drive outcomes.",
          why:
            "Turns scattered signals into a clear, time-bound plan that‚Äôs easy to execute and track.",
        },

        // Growth Drivers
        {
          id: "p5",
          categories: ["growth"],
          question:
            "Show which team members are most frequently praised by customers. Include their names, associated accounts, and short summaries of what customers appreciate‚Äîresponsiveness, expertise, problem-solving.",
          why:
            "Connects praise to specific individuals and behaviors, enabling meaningful recognition.",
        },
        {
          id: "p6",
          categories: ["growth"],
          question:
            "Show customers who have shared specific success stories or measurable results from using our product. Summarize what outcomes they achieved and how they describe the impact on their business.",
          why:
            "Pinpoints authentic proof of value for advocacy, renewal, and expansion.",
        },
        {
          id: "p7",
          categories: ["growth"],
          question:
            "Identify customers who are organically promoting our product, referring new users, or expanding usage without direct outreach. Summarize what is driving their advocacy.",
          why:
            "Surfaces self-propelled growth signals that are often buried in everyday interactions.",
        },

        // Product Feedback
        {
          id: "p8",
          categories: ["product"],
          question:
            "Summarize the most frequently mentioned bugs in the last 30, 60, and 90 days. Rank them by volume of mentions and customer frustration level. Include brief customer quotes that illustrate confusion or high frustration.",
          why:
            "Defines time windows and ranking criteria, helping identify high-impact issues.",
        },
        {
          id: "p9",
          categories: ["product"],
          question:
            "List the most frequently requested features in the last 30, 60, and 90 days. Categorize requests by theme and provide sample customer comments describing the need or desired outcome.",
          why:
            "Summarizes at multiple levels: frequency, category, and intent.",
        },
        {
          id: "p10",
          categories: ["product"],
          question:
            "Identify customers describing our product as difficult to use. Summarize usability issues‚Äînavigation, setup, unclear workflows, performance‚Äîand provide representative excerpts.",
          why:
            "Narrows ‚Äúusability‚Äù to actionable examples with supporting evidence.",
        },
        {
          id: "p11",
          categories: ["product"],
          question:
            "List customers expressing confusion or misunderstanding about how our product functions. Summarize what caused confusion (documentation, unexpected behavior, feature overlap) and note which teams or roles raised the concern.",
          why:
            "Creates a multi-dimensional structure showing what customers want, why they want it, and how feedback clusters.",
        },

        // Customer Experience
        {
          id: "p12",
          categories: ["cx"],
          question:
            "Summarize customers who have mentioned competitors in the last 30 days. Include which competitors and which features were referenced, along with context from the conversation. Highlight any patterns suggesting competitive gaps.",
          why:
            "Adds timeframe, defines desired detail, and requests pattern recognition.",
        },
        {
          id: "p13",
          categories: ["cx"],
          question:
            "List customers who have shared positive feedback or product suggestions in the last 30 days but haven't been contacted since. Summarize what they said and suggest a reason to reach out.",
          why:
            "Turns latent engagement signals into targeted follow-up opportunities that strengthen relationships and speed expansion.",
        },
        {
          id: "p14",
          categories: ["cx"],
          question:
            "Show customers who have shared specific success stories or measurable results from using our product. Summarize what outcomes they achieved and how they describe the impact on their business.",
          why:
            "Pinpoints authentic proof of value for advocacy, renewal, and expansion.",
        },

        // Customer Service
        {
          id: "p15",
          categories: ["support"],
          question:
            "Which issues or topics are causing the most customer frustration in support conversations? Group them by theme and include examples of the language customers are using.",
          why:
            "Isolates emotional signals that indicate experience risk and product friction.",
        },
        {
          id: "p16",
          categories: ["support"],
          question:
            "How well is our support team responding to customers in the last 30 days? Summarize average response and resolution times, identify accounts waiting the longest, and highlight any recurring delays or bottlenecks.",
          why:
            "Captures both quantitative (speed) and qualitative (bottlenecks) dimensions of support performance.",
        },
        {
          id: "p17",
          categories: ["support"],
          question:
            "Which support activities are taking the most time but creating the least customer satisfaction? Identify patterns in tickets or cases where effort is high but sentiment stays low.",
          why:
            "Connects operational effort to customer impact to pinpoint inefficiencies.",
        },
        {
          id: "p18",
          categories: ["support"],
          question:
            "Identify the top support issues that could have been prevented with better onboarding, documentation, or product design. Summarize how often each issue appears, the teams most affected, and customer language pointing to confusion or unmet expectations.",
          why:
            "Diagnoses why tickets exist, revealing upstream causes rather than just symptoms.",
        },
      ];

      // ---------- DEMO RESULTS (Secbase review + chart) ----------
      const demoResults = {
        p1: {
          title: "Secbase ‚Äì Detailed Account Review",
          html: `
            <div class="space-y-8 text-[13px] text-slate-800 leading-relaxed">
              <!-- Sturdy header -->
              <header class="border-b border-slate-200 pb-4">
                <div class="flex items-center gap-2 text-sm font-semibold text-slate-900">
                  <div class="h-6 w-6 rounded-xl bg-[#026eff] text-white grid place-items-center text-xs font-bold shadow-sm">
                    S
                  </div>
                  <span>Sturdy</span>
                </div>
                <h2 class="mt-4 text-lg font-semibold text-slate-900">
                  Secbase ‚Äì Detailed Account Review
                </h2>
                <p class="mt-1 text-[11px] text-slate-500">
                  As of 2025-12-05 ¬∑ Based on recent customer conversations across email, tickets, and calls.
                </p>
              </header>

              <!-- Account snapshot -->
              <section class="space-y-3">
                <h3 class="text-[13px] font-semibold tracking-tight text-slate-900">Account Snapshot</h3>
                <div class="grid gap-x-8 gap-y-1 md:grid-cols-2 text-[12px] text-slate-700 max-w-xl">
                  <p><span class="font-semibold">Account:</span> Secbase</p>
                  <p><span class="font-semibold">Account Owner:</span> Mark Ford</p>
                  <p><span class="font-semibold">Last inbound:</span> 2025-12-05</p>
                  <p><span class="font-semibold">Last outbound:</span> 2025-12-05</p>
                </div>
              </section>

              <!-- 1. Key customer goals -->
              <section class="space-y-3">
                <h3 class="text-[15px] font-semibold text-slate-900">1. Key Customer Goals</h3>
                <p>
                  Based on recent communications, Secbase‚Äôs current goals appear centered around:
                </p>
                <ul class="list-disc list-inside space-y-1">
                  <li>Maintaining platform continuity while managing tight budget constraints.</li>
                  <li>Validating whether your product can meet reporting and roadmap expectations before renewing.</li>
                  <li>Ensuring the platform continues to support the business unit owned by Sarah Newberg as they assess annual commitment options.</li>
                </ul>
                <p class="text-[12px] text-slate-600 mt-2 font-medium">Source examples:</p>
                <ul class="list-disc list-inside space-y-1 text-[12px]">
                  <li>
                    <a href="#" class="text-[#026eff] hover:underline">
                      ‚ÄúAfter connecting with Sarah Newberg... it‚Äôs clear we need to explore all available options before moving forward with another annual commitment.‚Äù
                    </a>
                  </li>
                  <li>
                    <a href="#" class="text-[#026eff] hover:underline">
                      ‚ÄúWe need to understand whether your roadmap will actually cover the reporting we‚Äôve been planning around before we lock in another multi-year term.‚Äù
                    </a>
                  </li>
                </ul>
              </section>

              <!-- 2. Current customer sentiment -->
              <section class="space-y-3">
                <h3 class="text-[15px] font-semibold text-slate-900">2. Current Customer Sentiment</h3>
                <p>
                  Current sentiment is <span class="font-semibold">highly negative</span>, driven almost entirely by
                  pricing-related frustration and perceived gaps in value delivery.
                </p>
                <p class="text-[12px] text-slate-700 font-medium">Key indicators:</p>
                <ul class="list-disc list-inside space-y-1">
                  <li>Deep frustration and disappointment around the recent price increase.</li>
                  <li>Language describing the uplift as abrupt, substantial, and unacceptable.</li>
                  <li>Explicit budget misalignment and repeated references to needing to explore alternatives.</li>
                </ul>
                <p class="text-[12px] text-slate-600 mt-2 font-medium">Source examples:</p>
                <ul class="list-disc list-inside space-y-1 text-[12px]">
                  <li>
                    <a href="#" class="text-[#026eff] hover:underline">
                      ‚ÄúMark I am writing to express my deep frustration and disappointment regarding the recent announcement of a pricing increase.‚Äù
                    </a>
                  </li>
                  <li>
                    <a href="#" class="text-[#026eff] hover:underline">
                      ‚ÄúThis abrupt and substantial price hike is unacceptable and has left us feeling undervalued and blindsided.‚Äù
                    </a>
                  </li>
                  <li>
                    <a href="#" class="text-[#026eff] hover:underline">
                      ‚ÄúThe price increase you previously shared isn‚Äôt aligned with what we‚Äôve budgeted.‚Äù
                    </a>
                  </li>
                </ul>
                <p class="mt-1 text-[12px]">
                  <span class="font-semibold">Summary:</span> this is a renewal-risk account with declining confidence and active exploration of alternatives.
                </p>
              </section>

              <!-- 3. Recent risks & escalations -->
              <section class="space-y-4">
                <h3 class="text-[15px] font-semibold text-slate-900">3. Recent Risks & Escalations</h3>

                <div class="space-y-2">
                  <h4 class="text-[13px] font-semibold text-slate-900">Pricing & Budget Risk</h4>
                  <p>The strongest and clearest risk comes from the price increase announcement:</p>
                  <ul class="list-disc list-inside space-y-1">
                    <li>Perception that the uplift is misaligned with value and current usage.</li>
                    <li>Requests for reconsideration or phased implementation to reduce impact.</li>
                    <li>Statements that, without adjustment, Secbase will be forced to evaluate alternatives.</li>
                  </ul>
                  <p class="text-[12px] text-slate-600 mt-2 font-medium">Source example:</p>
                  <ul class="list-disc list-inside space-y-1 text-[12px]">
                    <li>
                      <a href="#" class="text-[#026eff] hover:underline">
                        ‚ÄúUnless there is a reconsideration of this price increase or at least a phased implementation plan to mitigate its impact, we will be forced to evaluate alternative solutions.‚Äù
                      </a>
                    </li>
                  </ul>
                </div>

                <div class="space-y-2">
                  <h4 class="text-[13px] font-semibold text-slate-900">Perceived Overpromising</h4>
                  <p>
                    Stakeholders reference reporting capabilities they expected to have in place by now. Delays in roadmap delivery are
                    increasingly framed as broken promises.
                  </p>
                  <p class="text-[12px] text-slate-600 mt-2 font-medium">Source example:</p>
                  <ul class="list-disc list-inside space-y-1 text-[12px]">
                    <li>
                      <a href="#" class="text-[#026eff] hover:underline">
                        ‚ÄúYour team is still talking about this functionality being on the roadmap while we are being asked to consider our renewal.‚Äù
                      </a>
                    </li>
                  </ul>
                </div>

                <div class="space-y-2">
                  <h4 class="text-[13px] font-semibold text-slate-900">Value Concern</h4>
                  <p>
                    Repeated questions about ROI and whether the platform still justifies the cost reinforce a broader value-perception issue.
                  </p>
                </div>
              </section>

              <!-- 4. Engagement patterns -->
              <section class="space-y-3">
                <h3 class="text-[15px] font-semibold text-slate-900">4. Engagement Patterns</h3>
                <ul class="list-disc list-inside space-y-1">
                  <li>Engagement is active and frequent, with multiple stakeholders involved (Sarah Newberg, Holly Langerfield, Brittany Witherspoon, finance).</li>
                  <li>Most recent activity is reactive to pricing announcements and related follow-ups.</li>
                  <li>Tone is increasingly tense, often requiring escalation or detailed explanation.</li>
                  <li>Internal involvement from multiple teammates signals cross-functional pressure to resolve the situation.</li>
                </ul>
              </section>

              <!-- 5. Notable wins -->
              <section class="space-y-3">
                <h3 class="text-[15px] font-semibold text-slate-900">5. Notable Wins</h3>
                <p>
                  No new explicit wins appear in the latest communications, but Secbase does acknowledge historical value:
                </p>
                <ul class="list-disc list-inside space-y-1">
                  <li>Long-standing loyalty as an enterprise customer.</li>
                  <li>Previous recognition of service quality and collaboration from the account team.</li>
                </ul>
                <p class="text-[12px]">
                  This creates latent goodwill that can be used in renewal conversations if pricing and roadmap concerns are addressed directly.
                </p>
              </section>

              <!-- 6. Recommended next actions -->
              <section class="space-y-4">
                <h3 class="text-[15px] font-semibold text-slate-900">6. Recommended Next Actions for the Account Owner</h3>

                <div class="space-y-1">
                  <h4 class="text-[13px] font-semibold text-slate-900">1. Address Pricing Objections Immediately</h4>
                  <ul class="list-disc list-inside space-y-1">
                    <li>Offer a small set of options (phased rollout, multi-year term, or scoped package) that reduce the impact of the uplift.</li>
                    <li>Connect each option to concrete value and expected outcomes for Secbase.</li>
                  </ul>
                </div>

                <div class="space-y-1">
                  <h4 class="text-[13px] font-semibold text-slate-900">2. Rebuild the Value Narrative</h4>
                  <ul class="list-disc list-inside space-y-1">
                    <li>Deliver a tailored ROI review for Sarah Newberg‚Äôs business unit.</li>
                    <li>Highlight usage, metrics, and roadmap items directly tied to their stated goals.</li>
                  </ul>
                </div>

                <div class="space-y-1">
                  <h4 class="text-[13px] font-semibold text-slate-900">3. Resolve the Reporting Feature Gap</h4>
                  <ul class="list-disc list-inside space-y-1">
                    <li>Provide clear written timelines, interim workarounds, or alternative approaches.</li>
                    <li>Acknowledge that expectations were set and clarify how they will now be met.</li>
                  </ul>
                </div>

                <div class="space-y-1">
                  <h4 class="text-[13px] font-semibold text-slate-900">4. Hold a Multi-Stakeholder Renewal Strategy Call</h4>
                  <p>
                    Bring together Sarah, Holly, and Brittany to reset expectations, clarify pricing options, and agree on the next 60‚Äì90 days of activity.
                  </p>
                </div>

                <div class="space-y-1">
                  <h4 class="text-[13px] font-semibold text-slate-900">5. Increase Responsiveness</h4>
                  <p>
                    Tighten turnaround time on renewal-related questions to reduce response-lag frustration and demonstrate renewed focus on the account.
                  </p>
                </div>
              </section>

              <!-- üìä Signal Chart (static, uneven distribution) -->
              <section class="mt-6 rounded-2xl border border-slate-200 bg-slate-50/80 p-4 md:p-5 space-y-4">
                <p class="text-xs font-semibold text-slate-600 uppercase tracking-wide">
                  Secbase ‚Äî Signal Distribution
                </p>
                <div class="flex flex-col md:flex-row items-center md:items-start gap-6">
                  <!-- Donut chart using CSS conic-gradient -->
                  <div class="relative w-56 h-56">
                    <div
                      class="absolute inset-0 rounded-full bg-[conic-gradient(#3b82f6_0deg,#3b82f6_150deg,#22c55e_150deg,#22c55e_230deg,#f97316_230deg,#f97316_270deg,#ef4444_270deg,#ef4444_330deg,#9ca3af_330deg,#9ca3af_360deg)] shadow-inner"
                    ></div>
                    <div
                      class="absolute inset-10 rounded-full bg-slate-50 flex items-center justify-center shadow-[0_0_0_1px_rgba(148,163,184,0.5)]"
                    >
                      <span class="text-sm font-medium text-slate-600">Signals</span>
                    </div>
                  </div>

                  <!-- Legend -->
                  <div class="flex-1 grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2 text-[12px] text-slate-700">
                    <div class="flex items-center gap-2">
                      <span class="h-3 w-3 rounded-full bg-[#3b82f6]"></span>
                      <span>Pricing issues (largest cluster)</span>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="h-3 w-3 rounded-full bg-[#22c55e]"></span>
                      <span>Renewal risk</span>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="h-3 w-3 rounded-full bg-[#f97316]"></span>
                      <span>Response lag</span>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="h-3 w-3 rounded-full bg-[#ef4444]"></span>
                      <span>Value / ROI concern</span>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="h-3 w-3 rounded-full bg-[#9ca3af]"></span>
                      <span>Other risk signals</span>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Signal summary footer -->
              <section class="mt-4">
                <p class="text-sm text-slate-700 leading-relaxed">
                  <strong>Signal summary</strong><br />
                  Secbase shows clustered risk signals around pricing, perceived overpromising, and value perception. In Sturdy,
                  each section above is clickable back to the exact emails, tickets, and call notes that triggered it ‚Äî the blue
                  links here represent those underlying conversations.
                </p>
              </section>
            </div>
          `,
        },
      };

      // ---------- APP LOGIC ----------
      const els = {
        askInput: document.getElementById("askInput"),
        askButton: document.getElementById("askButton"),
        categoryRow: document.getElementById("categoryRow"),
        promptList: document.getElementById("promptList"),
        footerLine1: document.getElementById("footerLine1"),
        resultConsole: document.getElementById("resultConsole"),
      };

      let activeCategoryId = "account";
      let selectedPromptId = null;

      function initStaticCopy() {
        if (els.askInput) els.askInput.placeholder = uiCopy.askPlaceholder;
        if (els.footerLine1) els.footerLine1.textContent = uiCopy.footer.line1;
      }

      function renderCategories() {
        els.categoryRow.innerHTML = "";
        promptCategories.forEach((cat, index) => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.dataset.id = cat.id;
          btn.className =
            "inline-flex items-center gap-2 rounded-full px-4 py-2 text-[13px] font-medium bg-slate-50 text-slate-800 border border-slate-200 hover:bg-slate-100 hover:border-slate-300 transition-colors";
          btn.innerHTML = `
            <span class="label">${cat.label}</span>
            <span class="count-pill text-[11px] font-semibold px-2 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-200/80">${cat.count}</span>
          `;
          btn.addEventListener("click", () => {
            activeCategoryId = cat.id;
            selectedPromptId = null;
            renderPrompts();
            updateActiveCategoryStyles();
          });
          els.categoryRow.appendChild(btn);

          if (index === 0) activeCategoryId = cat.id;
        });
        updateActiveCategoryStyles();
      }

      function updateActiveCategoryStyles() {
        els.categoryRow.querySelectorAll("button").forEach((btn) => {
          const isActive = btn.dataset.id === activeCategoryId;
          const countSpan = btn.querySelector(".count-pill");

          if (isActive) {
            btn.className =
              "inline-flex items-center gap-2 rounded-full px-4 py-2 text-[13px] font-medium bg-[#026eff] text-white border border-[#026eff] shadow-sm";
            if (countSpan) {
              countSpan.className =
                "count-pill text-[11px] font-semibold px-2 py-0.5 rounded-full bg-slate-900/90 text-white";
            }
          } else {
            btn.className =
              "inline-flex items-center gap-2 rounded-full px-4 py-2 text-[13px] font-medium bg-slate-50 text-slate-800 border border-slate-200 hover:bg-slate-100 hover:border-slate-300 transition-colors";
            if (countSpan) {
              countSpan.className =
                "count-pill text-[11px] font-semibold px-2 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-200/80";
            }
          }
        });
      }

      function getVisiblePrompts() {
        return prompts.filter((p) => p.categories.includes(activeCategoryId));
      }

      function renderPrompts() {
        const visible = getVisiblePrompts();
        els.promptList.innerHTML = "";

        visible.forEach((p) => {
          const wrapper = document.createElement("button");
          wrapper.type = "button";
          wrapper.dataset.id = p.id;
          wrapper.className =
            "w-full text-left py-4 first:pt-0 last:pb-0 focus:outline-none";

          const inner = document.createElement("div");
          inner.className =
            "rounded-2xl px-4 py-3 -mx-1 hover:bg-slate-50 transition";
          inner.innerHTML = `
            <p class="text-sm md:text-[15px] font-medium text-slate-900 leading-snug">
              ${p.question}
            </p>
            <p class="mt-1 text-xs text-slate-500">
              <span class="font-medium">Why it works:</span> ${p.why}
            </p>
          `;

          wrapper.appendChild(inner);

          wrapper.addEventListener("click", () => {
            selectedPromptId = p.id;
            if (els.askInput) els.askInput.value = p.question;
            updateSelectedPromptStyles();
          });

          els.promptList.appendChild(wrapper);
        });

        updateSelectedPromptStyles();
      }

      function updateSelectedPromptStyles() {
        els.promptList.querySelectorAll("button").forEach((btn) => {
          const inner = btn.firstElementChild;
          if (!inner) return;
          const isSelected = btn.dataset.id === selectedPromptId;
          inner.classList.toggle("bg-slate-900/5", isSelected);
          inner.classList.toggle("ring-1", isSelected);
          inner.classList.toggle("ring-slate-200", isSelected);
        });
      }

      function buildFallbackAnswer() {
        switch (activeCategoryId) {
          case "growth":
            return "Sturdy looks across customer conversations for expansion, advocacy, and referral signals, then highlights the people, accounts, and quotes that show real growth momentum.";
          case "product":
            return "Sturdy clusters feedback into themes so product and CS can see the bugs, feature requests, and usability issues that matter most, with example quotes attached.";
          case "cx":
            return "Sturdy surfaces conversations that mention competitors, delight, and frustration so you can see where the experience is winning and where it‚Äôs at risk.";
          case "support":
            return "Sturdy analyzes tickets and transcripts to show which issues drive the most effort and frustration, and where better onboarding or design could prevent them.";
          case "account":
          default:
            return "Sturdy pulls together goals, risks, sentiment, and engagement from every channel into a single view so account teams can act quickly and confidently.";
        }
      }

      function renderResult(question, promptId) {
        if (!els.resultConsole) return;

        const wrapper = document.createElement("div");
        wrapper.className =
          "rounded-3xl border border-slate-200 bg-white px-5 py-5 md:px-6 md:py-6 shadow-sm text-sm text-slate-900 space-y-4";

        const meta = document.createElement("div");
        meta.className =
          "flex items-center justify-between gap-3 text-[11px] text-slate-500";
        const time = new Date().toLocaleTimeString([], {
          hour: "2-digit",
          minute: "2-digit",
        });
        meta.innerHTML = `
          <span class="font-semibold uppercase tracking-[0.16em]">Demo response</span>
          <span>${time}</span>
        `;

        const questionBlock = document.createElement("div");
        questionBlock.className = "space-y-1";
        questionBlock.innerHTML = `
          <p class="text-[11px] font-medium text-slate-600 uppercase tracking-[0.12em]">You asked</p>
          <p class="text-sm md:text-[15px] leading-snug">${question}</p>
        `;

        const answerBlock = document.createElement("div");
        answerBlock.className =
          "pt-3 mt-1 border-t border-slate-200 space-y-2";
        const answerLabel = document.createElement("p");
        answerLabel.className =
          "text-[11px] font-medium text-slate-600 uppercase tracking-[0.12em]";
        answerLabel.textContent = "How Sturdy would answer";
        const answerBody = document.createElement("div");
        answerBody.className =
          "text-xs md:text-sm text-slate-800 leading-relaxed space-y-2";

        const demo = promptId ? demoResults[promptId] : null;
        if (demo && demo.html) {
          const htmlWrapper = document.createElement("div");
          htmlWrapper.innerHTML = demo.html;
          answerBody.appendChild(htmlWrapper);
        } else {
          const p = document.createElement("p");
          p.textContent = buildFallbackAnswer();
          answerBody.appendChild(p);
        }

        answerBlock.appendChild(answerLabel);
        answerBlock.appendChild(answerBody);

        wrapper.appendChild(meta);
        wrapper.appendChild(questionBlock);
        wrapper.appendChild(answerBlock);

        // Append (chat-style history). If you want only one at a time, use = instead of +=.
        els.resultConsole.appendChild(wrapper);
      }

      function resolvePromptIdFromQuestion(question) {
        if (selectedPromptId) return selectedPromptId;
        const trimmed = question.trim();
        if (!trimmed) return null;

        const exact = prompts.find((p) => p.question === trimmed);
        if (exact) return exact.id;

        const lowerQ = trimmed.toLowerCase();
        const fuzzy = prompts.find((p) =>
          lowerQ.startsWith(p.question.slice(0, 80).toLowerCase())
        );
        return fuzzy ? fuzzy.id : null;
      }

      function wireInteractions() {
        if (els.askButton) {
          els.askButton.addEventListener("click", () => {
            if (!els.askInput) return;
            const question = els.askInput.value.trim();
            if (!question) return;

            const promptId = resolvePromptIdFromQuestion(question);

            els.askButton.disabled = true;
            const original = els.askButton.textContent;
            els.askButton.textContent = "Thinking‚Ä¶";

            setTimeout(() => {
              els.askButton.disabled = false;
              els.askButton.textContent = original;
              renderResult(question, promptId);
            }, 700);
          });
        }

        if (els.askInput && els.askButton) {
          els.askInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
              els.askButton.click();
            }
          });
        }
      }

      function init() {
        initStaticCopy();
        renderCategories();
        renderPrompts();
        wireInteractions();
      }

      init();
    </script>
  </body>
</html>
